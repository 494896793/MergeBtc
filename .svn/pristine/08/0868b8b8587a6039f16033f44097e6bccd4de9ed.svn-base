package com.bochat.app.model.util;

import android.content.Context;
import android.view.View;
import android.widget.Button;

import com.bochat.app.common.util.ULog;

import io.rong.imkit.RongIM;
import io.rong.imkit.model.UIConversation;
import io.rong.imkit.widget.SwipeLayout;
import io.rong.imkit.widget.SwipeLayoutManager;

public class IMAppCompat {

    public static void bindLongClick(Context context, View view, final UIConversation uiConversation) {
        if(view instanceof SwipeLayout) {
            SwipeLayoutManager.getInstance().clearCurrentLayout();
            ((SwipeLayout) view).open();
            view.findViewById(io.rong.imkit.R.id.top_conversation).setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View view) {
                    RongIM.getInstance().setConversationToTop(uiConversation.getConversationType(), uiConversation.getConversationTargetId(), !uiConversation.isTop(), null);
                }
            });
            view.findViewById(io.rong.imkit.R.id.delete_conversation).setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View view) {
                    RongIM.getInstance().removeConversation(uiConversation.getConversationType(), uiConversation.getConversationTargetId(), null);
                }
            });
        }
    }
}

package com.bochat.app.model.modelImpl.MarketCenter;

import org.json.JSONArray;
import org.json.JSONObject;

import java.util.ArrayList;
import java.util.List;

/**
 * Author      : FJ
 * CreateDate  : 2019/06/27 13:44
 * Description :
 */

public class EntrustSellListEntity implements MarketCenterData {
    private List<EntrustEntity> minList = new ArrayList<>();
    private List<EntrustEntity> maxList = new ArrayList<>();

    @Override
    public MarketCenterType getType() {
        return MarketCenterType.ENTRUST_SELL;
    }

    @Override
    public boolean parseFromJson(JSONObject json) {
        try {
            JSONArray list = json.getJSONArray("list");
            String sort = json.getString("sort");
            for(int i = 0; i < list.length(); i++){
                EntrustEntity item = new EntrustEntity(list.getJSONObject(i));
                if("0".equals(sort)){
                    minList.add(item);
                } else {
                    maxList.add(item);
                }
            }
            return true;
        } catch (Exception ignore){
        }
        return false;
    }

    public List<EntrustEntity> getMinList() {
        return minList;
    }

    public List<EntrustEntity> getMaxList() {
        return maxList;
    }

    public static class EntrustEntity {
        private String price;
        private String num;

        public EntrustEntity(JSONObject json) {
            try {
                price = json.getString("price");
                num = json.getString("num");
            } catch (Exception ignore){
            }
        }

        public String getPrice() {
            return price;
        }

        public String getNum() {
            return num;
        }
    }
}
